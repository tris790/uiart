const fs = require("fs");

let json = {
    images: [{ file_name: "Untitled.png", height: 2464, width: 1920, id: 1 }],
    type: "instances",
    annotations: [
        {
            segmentation: [
                [
                    3.000005006790161, 29.0000057220459, 45.000003814697266,
                    29.0000057220459, 45.000003814697266, 78, 3.000005006790161,
                    78,
                ],
            ],
            area: 2057.9997012615277,
            iscrowd: 0,
            image_id: 1,
            bbox: [
                3.000005006790161, 29.0000057220459, 41.999998807907104,
                48.9999942779541,
            ],
            category_id: 1,
            id: 1,
            ignore: 0,
        },
        {
            segmentation: [
                [
                    3.000005006790161, 82, 47.000003814697266, 82,
                    47.000003814697266, 130.00001525878906, 3.000005006790161,
                    130.00001525878906,
                ],
            ],
            area: 2112.0006141662416,
            iscrowd: 0,
            image_id: 1,
            bbox: [
                3.000005006790161, 82, 43.999998807907104, 48.00001525878906,
            ],
            category_id: 1,
            id: 2,
            ignore: 0,
        },
        {
            segmentation: [
                [
                    1.9999974966049194, 132, 48.999996185302734, 132,
                    48.999996185302734, 184, 1.9999974966049194, 184,
                ],
            ],
            area: 2443.9999318122864,
            iscrowd: 0,
            image_id: 1,
            bbox: [1.9999974966049194, 132, 46.999998688697815, 52],
            category_id: 1,
            id: 3,
            ignore: 0,
        },
        {
            segmentation: [
                [
                    3.000005006790161, 187.00003051757812, 48.000003814697266,
                    187.00003051757812, 48.000003814697266, 234.00003051757812,
                    3.000005006790161, 234.00003051757812,
                ],
            ],
            area: 2114.999943971634,
            iscrowd: 0,
            image_id: 1,
            bbox: [
                3.000005006790161, 187.00003051757812, 44.999998807907104, 47,
            ],
            category_id: 1,
            id: 4,
            ignore: 0,
        },
        {
            segmentation: [
                [
                    3.000005006790161, 237, 48.000003814697266, 237,
                    48.000003814697266, 285, 3.000005006790161, 285,
                ],
            ],
            area: 2159.999942779541,
            iscrowd: 0,
            image_id: 1,
            bbox: [3.000005006790161, 237, 44.999998807907104, 48],
            category_id: 1,
            id: 5,
            ignore: 0,
        },
        {
            segmentation: [
                [
                    1.9999974966049194, 290.0000305175781, 47.000003814697266,
                    290.0000305175781, 47.000003814697266, 337.0000305175781,
                    1.9999974966049194, 337.0000305175781,
                ],
            ],
            area: 2115.0002969503403,
            iscrowd: 0,
            image_id: 1,
            bbox: [
                1.9999974966049194, 290.0000305175781, 45.000006318092346, 47,
            ],
            category_id: 1,
            id: 6,
            ignore: 0,
        },
        {
            segmentation: [
                [
                    309.0000305175781, 30.0000057220459, 424, 30.0000057220459,
                    424, 62.0000114440918, 309.0000305175781, 62.0000114440918,
                ],
            ],
            area: 3679.9996814726037,
            iscrowd: 0,
            image_id: 1,
            bbox: [
                309.0000305175781, 30.0000057220459, 114.99996948242188,
                32.0000057220459,
            ],
            category_id: 1,
            id: 7,
            ignore: 0,
        },
        {
            segmentation: [
                [
                    428, 30.0000057220459, 547, 30.0000057220459, 547, 65, 428,
                    65,
                ],
            ],
            area: 4164.999319076538,
            iscrowd: 0,
            image_id: 1,
            bbox: [428, 30.0000057220459, 119, 34.9999942779541],
            category_id: 1,
            id: 8,
            ignore: 0,
        },
        {
            segmentation: [
                [
                    551.0000610351562, 31.0000057220459, 713.0000610351562,
                    31.0000057220459, 713.0000610351562, 62.999996185302734,
                    551.0000610351562, 62.999996185302734,
                ],
            ],
            area: 5183.998455047607,
            iscrowd: 0,
            image_id: 1,
            bbox: [
                551.0000610351562, 31.0000057220459, 162, 31.999990463256836,
            ],
            category_id: 1,
            id: 9,
            ignore: 0,
        },
        {
            segmentation: [
                [
                    718.0000610351562, 32.999996185302734, 872.0001220703125,
                    32.999996185302734, 872.0001220703125, 59.999996185302734,
                    718.0000610351562, 59.999996185302734,
                ],
            ],
            area: 4158.001647949219,
            iscrowd: 0,
            image_id: 1,
            bbox: [
                718.0000610351562, 32.999996185302734, 154.00006103515625, 27,
            ],
            category_id: 1,
            id: 10,
            ignore: 0,
        },
        {
            segmentation: [
                [
                    878, 35.000003814697266, 999.9999389648438,
                    35.000003814697266, 999.9999389648438, 62.0000114440918,
                    878, 62.0000114440918,
                ],
            ],
            area: 3293.9992828364484,
            iscrowd: 0,
            image_id: 1,
            bbox: [
                878, 35.000003814697266, 121.99993896484375, 27.00000762939453,
            ],
            category_id: 1,
            id: 11,
            ignore: 0,
        },
        {
            segmentation: [
                [
                    1007.0000610351562, 35.999996185302734, 1128.0001220703125,
                    35.999996185302734, 1128.0001220703125, 64.00001525878906,
                    1007.0000610351562, 64.00001525878906,
                ],
            ],
            area: 3388.004016877385,
            iscrowd: 0,
            image_id: 1,
            bbox: [
                1007.0000610351562, 35.999996185302734, 121.00006103515625,
                28.000019073486328,
            ],
            category_id: 1,
            id: 12,
            ignore: 0,
        },
        {
            segmentation: [
                [
                    -0.9999987483024597, 920.0000610351562, 48.000003814697266,
                    920.0000610351562, 48.000003814697266, 961,
                    -0.9999987483024597, 961,
                ],
            ],
            area: 2008.9971143601742,
            iscrowd: 0,
            image_id: 1,
            bbox: [
                -0.9999987483024597, 920.0000610351562, 49.000002562999725,
                40.99993896484375,
            ],
            category_id: 1,
            id: 13,
            ignore: 0,
        },
        {
            segmentation: [
                [
                    3.000005006790161, 965.0000610351562, 50.000003814697266,
                    965.0000610351562, 50.000003814697266, 1015.0000610351562,
                    3.000005006790161, 1015.0000610351562,
                ],
            ],
            area: 2349.999940395355,
            iscrowd: 0,
            image_id: 1,
            bbox: [
                3.000005006790161, 965.0000610351562, 46.999998807907104, 50,
            ],
            category_id: 1,
            id: 14,
            ignore: 0,
        },
        {
            segmentation: [
                [
                    312, 91.99998474121094, 1749.000244140625,
                    91.99998474121094, 1749.000244140625, 1015.0000610351562,
                    312, 1015.0000610351562,
                ],
            ],
            area: 1326351.334976215,
            iscrowd: 0,
            image_id: 1,
            bbox: [
                312, 91.99998474121094, 1437.000244140625, 923.0000762939453,
            ],
            category_id: 1,
            id: 15,
            ignore: 0,
        },
    ],
    categories: [{ supercategory: "none", id: 1, name: "uncategorized" }],
};

let bboxes = json.annotations.map((x, id) => {
    let box = x.bbox;
    return { x: box[0], y: box[1], w: box[2], h: box[3], id };
});

fs.writeFileSync("vscode_ui.json", JSON.stringify(bboxes), (e) =>
    console.log("done")
);
